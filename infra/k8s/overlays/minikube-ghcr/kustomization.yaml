apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: collector

resources:
  - ../minikube

patches:
  # Override minikube overlay (local images) to allow pulling from GHCR.
  - path: patch-imagepullpolicy.yaml

# GHCR images (demo mode): use :latest tags by default.
images:
  - name: collector-frontend
    newName: ghcr.io/thibaut-lecee/collector-front-front
    newTag: latest
  - name: collector-api
    newName: ghcr.io/thibaut-lecee/collector-api-api
    newTag: latest
  - name: collector-api-migrate
    newName: ghcr.io/thibaut-lecee/collector-api-api-migrate
    newTag: latest
